---
layout:	post
title:	OWASP TOP 10 - A3 XSS
date:	2018-04-09 12:42:30
summary:	OWASP Top10 중 XSS(크로스 사이트 스크립트) 취약점 
categories:	OWASP XSS Script
---

## **A3 - XSS(Cross-Site Scripting)**

![XSS](http://blogfiles7.naver.net/MjAxNzEwMTFfOTgg/MDAxNTA3NzA3MDY0Njcy.SG0VG-81FnNYmMF9C_w6syVKRP-SIQCDPjsuJiutfIcg.XWfYRCEMxm0mlo4CnsLV1MPksi96x6j8XtIhZNxkPmgg.PNG.gs_info/image.png)

> 크로스 사이트 스크립팅이란 사용자를 유인하여 사용자의 중요 정보를 가로채는 기법이다.
> XSS 취약점은 신뢰할 수 없는 데이터를 적절한 검증이나 제한 없이 웹 브라우저로 보낼 때 발생한다. XSS 공격은 웹 사이트의 사용자 계정을 획득하고 개인정보를 도용하는 등의 침해사고를 일으킨다.

### **공격 기법**
 공격자가 홈페이지의 게시판 등에 일반 글임을 가장하여 올려 놓으면 일반 사용자는 그 글을 누르게 된다. 하지만 그 글에는 공격자의 악의적인 스크립트가 포함되어있고 그 글을 누르는 순간 희생자는 악성스크립트를 실행하게 된다. 사용자가 로그인을 하면 악성 스크립트에 의해 로그인 정보가 공격자 서버에 전송되어지고 공격자는 일반 사용자의 로그인 인증 정보를 얻어 다른 사용자 계정으로 로그인이 가능해진다.

#### **공격 순서**
1. XSS 유발 가능한 스크립트를 게시하여 취약점 존재 여부를 확인한다.
 ~~~~ HTML
 <script>alert("test")</script>
 ~~~~
 
2. 접속자로부터 전송된 쿠키 저장을 위한 서버 구축한 후 빼앗아온 쿠키 값을 저장한다.
3. 실제 공격에 쓰이는 스크립트를 이용하여 게시판에 글을 게시한다.
4. 홈페이지 접속자가 게시판의 글을 읽는 순간 쿠키 정보를 공격자 서버에 전송한다.
5. 공격자는 획득한 쿠키 정보 (인증, 세션 정보 등)를 이용하여 다른 사용자의 계정으로 로그인을 성공하게 된다.

### **공격 유형**
XSS는 공격자가 악성 스크립트를 입력했다면 희생자는 악성 스크립트를 신뢰하는 웹 서버가 보낸 것으로 믿고 실행하게 된다.

* Reflective XSS
: 공격자는 이메일, 메신저, 웹 게시판을 이용하여 악성 스크립트를 포함한 URL을 희생자에게 노출하며 클릭하도록 유도하여 클릭한 사용자를 바로 공격한다. 악성 스크립트는 서버에 저장되지 않는다.

* Stored XSS
: 가장 일반적인 XSS 공격 유형, 게시판 같은 곳의 HTML 문서에 `<script>`를 이용하여 이 스크립트 태그안에 악성 스크립트를 저장하는 방식이다.
웹 애플리케이션 취약점이 있는 웹 서버에 악성 스크립트를 영구적으로 저장해 놓는 방법이다.






